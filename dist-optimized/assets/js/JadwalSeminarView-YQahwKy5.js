import{E as e,F as t,L as n,N as r,S as i,T as a,b as o,g as s,h as c,m as l,s as u,v as d,w as f,y as p}from"./vendor-vue-CrbfGyrv.js";import{t as m}from"./index.optimized-DOL2Az7M.js";import{i as h}from"./supabase-CelTQgPn.js";const g=u(`seminar`,()=>{let e=r([]),t=r(!1),n=r(null),i=c(()=>e.value.filter(e=>e.status===`Terjadwal`)),a=c(()=>e.value.filter(e=>e.status===`Menunggu Konfirmasi`)),o=c(()=>e.value.filter(e=>e.status===`Selesai`)),s=c(()=>{let t={};return e.value.forEach(e=>{let n=e.tanggal.slice(0,7);t[n]||(t[n]=[]),t[n].push(e)}),t});async function l(){t.value=!0,n.value=null;try{let{data:t,error:n}=await h.getAll();if(n)throw Error(n);e.value=t}catch(e){n.value=e.message}finally{t.value=!1}}return{seminarList:e,loading:t,error:n,seminarTerjadwal:i,seminarMenunggu:a,seminarSelesai:o,jadwalPerBulan:s,fetchSeminar:l}});var _={class:`calendar-container`},v={class:`calendar-header`},y={class:`cal-month-title`},b={class:`calendar-days-header`},x={class:`calendar-grid`},S={class:`cell-date`},C={class:`event-time`},w={class:`event-type`},T={key:0,class:`more-events`},E=m({__name:`CalendarJadwal`,props:{jadwalList:{type:Array,default:()=>[]}},setup(i){let u=i,f=[`Min`,`Sen`,`Sel`,`Rab`,`Kam`,`Jum`,`Sab`],m=[`Januari`,`Februari`,`Maret`,`April`,`Mei`,`Juni`,`Juli`,`Agustus`,`September`,`Oktober`,`November`,`Desember`],h=r(new Date().getMonth()),g=r(new Date().getFullYear()),E=c(()=>`${m[h.value]} ${g.value}`);function D(){h.value===0?(h.value=11,g.value--):h.value--}function O(){h.value===11?(h.value=0,g.value++):h.value++}let k=c(()=>{let e=g.value,t=h.value,n=new Date(e,t,1).getDay(),r=new Date(e,t+1,0).getDate(),i=new Date(e,t,0).getDate(),a=new Date,o=[];for(let e=n-1;e>=0;e--)o.push({day:i-e,currentMonth:!1,isToday:!1,events:[]});for(let n=1;n<=r;n++){let r=`${e}-${String(t+1).padStart(2,`0`)}-${String(n).padStart(2,`0`)}`,i=a.getFullYear()===e&&a.getMonth()===t&&a.getDate()===n,s=u.jadwalList.filter(e=>e.tanggal===r);o.push({day:n,currentMonth:!0,isToday:i,events:s})}let s=42-o.length;for(let e=1;e<=s;e++)o.push({day:e,currentMonth:!1,isToday:!1,events:[]});return o});function A(e){return e.jenis===`Seminar Proposal`?`event-sempro`:`event-sidang`}return(r,i)=>(a(),p(`div`,_,[s(`div`,v,[s(`button`,{class:`cal-nav-btn`,onClick:D},[...i[0]||(i[0]=[s(`svg`,{width:`18`,height:`18`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`},[s(`path`,{d:`M15 18l-6-6 6-6`})],-1)])]),s(`h3`,y,n(E.value),1),s(`button`,{class:`cal-nav-btn`,onClick:O},[...i[1]||(i[1]=[s(`svg`,{width:`18`,height:`18`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`},[s(`path`,{d:`M9 18l6-6-6-6`})],-1)])])]),s(`div`,b,[(a(),p(l,null,e(f,e=>s(`span`,{key:e,class:`day-label`},n(e),1)),64))]),s(`div`,x,[(a(!0),p(l,null,e(k.value,(r,i)=>(a(),p(`div`,{key:i,class:t([`calendar-cell`,{"other-month":!r.currentMonth,"has-event":r.events.length>0,today:r.isToday}])},[s(`span`,S,n(r.day),1),(a(!0),p(l,null,e(r.events.slice(0,2),e=>(a(),p(`div`,{key:e.id,class:t([`calendar-event`,A(e)])},[s(`span`,C,n(e.waktu),1),s(`span`,w,n(e.jenis===`Seminar Proposal`?`SP`:`SA`),1)],2))),128)),r.events.length>2?(a(),p(`span`,T,`+`+n(r.events.length-2)+` lagi`,1)):d(``,!0)],2))),128))]),i[2]||(i[2]=o(`<div class="calendar-legend" data-v-bfe9c015><div class="legend-item" data-v-bfe9c015><span class="legend-dot sempro" data-v-bfe9c015></span><span data-v-bfe9c015>Seminar Proposal</span></div><div class="legend-item" data-v-bfe9c015><span class="legend-dot sidang" data-v-bfe9c015></span><span data-v-bfe9c015>Sidang Akhir</span></div><div class="legend-item" data-v-bfe9c015><span class="legend-dot today-dot" data-v-bfe9c015></span><span data-v-bfe9c015>Hari Ini</span></div></div>`,1))]))}},[[`__scopeId`,`data-v-bfe9c015`]]),D={class:`jadwal-seminar`},O={class:`jadwal-summary`},k={class:`summary-card`},A={class:`summary-count`},j={class:`summary-card menunggu`},M={class:`summary-count`},N={class:`summary-card selesai`},P={class:`summary-count`},F={class:`calendar-wrapper`},I={class:`jadwal-list-section`},L={key:0,class:`loading-list`},R={key:1,class:`jadwal-list`},z={class:`jadwal-info`},B={class:`jadwal-jenis`},V={class:`jadwal-mahasiswa`},H={class:`jadwal-details`},U={class:`detail-item`},W={class:`detail-item`},G={class:`detail-item`},K={class:`jadwal-penguji`},q={class:`jadwal-status-badge`},J=m({__name:`JadwalSeminarView`,setup(r){let o=g(),u=c(()=>o.loading),d=c(()=>o.seminarList),m=c(()=>o.seminarTerjadwal.length),h=c(()=>o.seminarMenunggu.length),_=c(()=>o.seminarSelesai.length);function v(e){return new Date(e).toLocaleDateString(`id-ID`,{weekday:`long`,day:`2-digit`,month:`long`,year:`numeric`})}function y(e){return{Terjadwal:`badge-info`,"Menunggu Konfirmasi":`badge-warning`,Selesai:`badge-success`}[e]||`badge-info`}return f(()=>{o.fetchSeminar()}),(r,o)=>(a(),p(`div`,D,[s(`div`,O,[s(`div`,k,[s(`span`,A,n(m.value),1),o[0]||(o[0]=s(`span`,{class:`summary-label`},`Terjadwal`,-1))]),s(`div`,j,[s(`span`,M,n(h.value),1),o[1]||(o[1]=s(`span`,{class:`summary-label`},`Menunggu Konfirmasi`,-1))]),s(`div`,N,[s(`span`,P,n(_.value),1),o[2]||(o[2]=s(`span`,{class:`summary-label`},`Selesai`,-1))])]),s(`div`,F,[o[3]||(o[3]=s(`h3`,{class:`section-title`},`ðŸ“… Kalender Seminar`,-1)),i(E,{"jadwal-list":d.value},null,8,[`jadwal-list`])]),s(`div`,I,[o[5]||(o[5]=s(`h3`,{class:`section-title`},`ðŸ“‹ Detail Jadwal`,-1)),u.value?(a(),p(`div`,L,[(a(),p(l,null,e(4,e=>s(`div`,{key:e,class:`skeleton`,style:{height:`100px`,"margin-bottom":`12px`}})),64))])):(a(),p(`div`,R,[(a(!0),p(l,null,e(d.value,r=>(a(),p(`div`,{key:r.id,class:`jadwal-card`},[s(`div`,{class:t([`jadwal-type`,r.jenis===`Seminar Proposal`?`type-sempro`:`type-sidang`])},n(r.jenis===`Seminar Proposal`?`SP`:`SA`),3),s(`div`,z,[s(`h4`,B,n(r.jenis),1),s(`p`,V,n(r.mahasiswa?.nama)+` â€” `+n(r.judul?.judul),1),s(`div`,H,[s(`span`,U,` ðŸ“… `+n(v(r.tanggal)),1),s(`span`,W,` ðŸ• `+n(r.waktu)+` WITA `,1),s(`span`,G,` ðŸ« `+n(r.ruangan),1)]),s(`div`,K,[o[4]||(o[4]=s(`span`,{class:`penguji-label`},`Penguji:`,-1)),(a(!0),p(l,null,e(r.dosen_penguji,(e,t)=>(a(),p(`span`,{key:e.id,class:`penguji-name`},n(e.nama)+n(t<r.dosen_penguji.length-1?`, `:``),1))),128))])]),s(`div`,q,[s(`span`,{class:t([`badge`,y(r.status)])},n(r.status),3)])]))),128))]))])]))}},[[`__scopeId`,`data-v-f20ec838`]]);export{J as default};